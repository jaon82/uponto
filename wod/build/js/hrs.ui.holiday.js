hrs=window.hrs||{},hrs.ui=window.hrs.ui||{},hrs.ui.holidays=function(a){function b(a,b){var c=a.date.split("/"),d=b.date.split("/"),e=new Date(1,c[1],c[0]),f=new Date(1,d[1],d[0]);return e>f?1:f>e?-1:0}function c(a){if(void 0!=a)for(var b=i.find("tr:has(td):first"),c=0;c<a.length;c++){var d=b.clone();d.find(".holiday_date").val(a[c].date).mask("99/99"),d.find(".holiday_description").val(a[c].obs),d.insertBefore(b)}}function d(a){return a.match(/^\d{2}\/\d{2}$/g)}function e(a){var b=a.closest("tr"),c=b.find("input"),e=0==c.filter('[value!=""]').length,f=d(c.filter(".holiday_date").val()),i=0==b.next("tr").length;f&&i&&g(b),e&&!i&&b.remove(),null!=j&&j(h.getHolidays())}function f(){i.find(".holiday_date").mask("99/99"),i.delegate("input","blur",function(){var b=a(this);setTimeout(function(){e(b)},10)})}function g(a){var b=a.clone();b.find("input").val("").filter(".holiday_date").mask("99/99"),i.append(b)}var h={},i=null,j=null;return h.init=function(a){i=a.$elem,j=a.callback,c(a.holidays),f()},h.getHolidays=function(){var c=[];return i.find("tr").each(function(){var b=a(this),d=b.find(".holiday_date").val(),e=b.find(".holiday_description").val();""!=d&&void 0!=d&&c.push({date:d,obs:e})}),c.sort(b),c},h}(jQuery,hrs.helpers);