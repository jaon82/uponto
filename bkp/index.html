<!DOCTYPE html>
<html>

<head>
	<title>Controle de Banco de Horas</title>
	<meta content="text/html; charset=iso-8859-1" http-equiv="content-type" />
	<link rel="shortcut icon" href="res/favicon.ico" type="image/x-icon">
	<link rel="stylesheet" type="text/css" href="css/oocss.css" />
	<link rel="stylesheet" type="text/css" href="css/common.css" />
	<link rel="stylesheet" type="text/css" media="print" href="css/print.css" />

	<script src="libs/jquery-1.11.0.min.js"></script>
	<script src="libs/jquery.json-2.3.min.js"></script>
	<script src="libs/jquery.maskedinput-1.3.js"></script>
	<script src="js/extensions.js"></script>
	<script src="js/hrs.helpers.js"></script>
	<script src="js/hrs.dao.js"></script>
	<script src="js/hrs.timestamp.js"></script>
	<script src="js/hrs.ui.month.js"></script>
	<script src="js/hrs.ui.holiday.js"></script>
	<script src="js/DesktopNotifications.js"></script>
	<script src="js/Utils.js"></script>
	<script src="js/hrs.ui.main.js"></script>
	<!--<script src="js/easter-eggs/ball.js"></script>-->
</head>

<body>

<div id="wrapper">

	<div id="fixed-bar">
		<ul id="header">
			<li class="date">Dia</li>
			<li class="begin-day">Entrada</li>
			<li class="start-lunch">Ida almoço</li>
			<li class="end-lunch">Volta almoço</li>
			<li class="end-day">Saída</li>
			<li class="vpn-cell">Remoto</li>
			<li class="all-worked">Total</li>
			<li class="lunch">Almoço</li>
			<li class="extra">Extra</li>
			<li class="note">Obs</li>
			<li class="is-ausent">Ausente</li>
		</ul>

		<ul id="menu">
			<li> <a href="#export-pdf" class="export-pdf">PDF</a> </li>
			<li> <a href="#configuration" class="open-lightbox">Configurações</a> </li>
			<li> <a href="#holidays" class="open-lightbox">Feriados</a> </li>
			<li> <a href="#export" id="link-export" class="open-lightbox">Exportar</a> </li>
			<li> <a href="#import-data" id="import-data" class="last">Importar</a> </li>
		</ul>
	</div>
	
	<div class="rightCol general-information">
		<div id="aditional-information">
			<h2>Expediente (Hoje)</h2>
			
			<div class="line">
				<div class="unit label" style="width: 120px;">Saída estimada: </div>
				<div id="proxSaidaExtimada" class="unit information small"></div> 
			</div>
			<div class="line last-line">
				<div class="unit label" style="width: 120px;" id="saidaTimeLabel">Tempo até saída: </div>
				<div id="proxSaidaTimer" class="unit information small"></div> 
			</div>
		</div>
		
		<div id="aditional-information" class="intervaloAlmoco">
			<h2>Intervalo (Hoje)</h2>
			<div class="line">
				<div class="unit label" style="width: 120px;">Saída estimada: </div>
				<div id="saidaAlmocoEstimada" class="unit information small"></div> 
			</div>
			<div class="line">
				<div class="unit label" style="width: 120px;">Saída real: </div>
				<div id="saidaAlmocoReal" class="unit information small"></div> 
			</div>
			<div class="line">
				<div class="unit label" style="width: 120px;">Retorno estimado: </div>
				<div id="retornoAlmoco" class="unit information small"></div> 
			</div>
			<div class="line">
				<div class="unit label" style="width: 120px;">Retorno Real: </div>
				<div id="retornoAlmocoReal" class="unit information small"></div> 
			</div>
			<div class="line last-line">
				<div class="unit label" style="width: 120px;" id="retornoAlmocoTimerLabel">Tempo até retorno: </div>
				<div id="retornoAlmocoTimer" class="unit information small"></div> 
			</div>
		</div>
		
		<h2>Informações consolidadas</h2>
		
		<div class="line last-line">
			<div class="unit label">Horas extras: </div>
			<div id="extra" class="unit information"></div> 
		</div>
		

		<h2>Informações do mês</h2>
		
		<div class="line">
			<div class="unit label">Mês: </div> 
			<div class="unit information small" id="month-name"></div>
		</div>
		
		<div class="line">
			<div class="unit label">Horas extras: </div> 
			<div class="unit information small" id="extra-month"></div>
		</div>
		
		<div class="line" style="text-align: center; padding-top: 30px; padding-left: 10px; padding-right: 10px; padding-bottom: 10px; width: 400px; margin-top: 20px; border-top: 1px dotted #666;">
			<input type="button" id="current-month" value="Ver mês atual"/>
			<p></p>
			<input type="button" class="" value="Ver mês anterior" id="prev-month" />
			<input type="button" value="Ver próximo mês" id="next-month" />
		</div>
		
		<div class="line" style="text-align: center; padding-top: 10px; padding-left: 10px; padding-right: 10px; padding-bottom: 30px; width: 400px; border-bottom: 1px dotted #666;">
<!-- 			<a href="#" id="importMonth" class="import-month">Importar Mês (Sistema Ahgora)</a> -->
			<input type="button" id="importMonth" value="Importar mês (Sistema Ahgora)"/>
		</div>
		
		<div id="legend">
			<h2>Legenda</h2>
			
			<div class="last-line">
				<table id="legend-table">
					<tr>
						<td class="color">
							<div class="commom_day"></div>
						</td>
						<td>Dia comum</td>
					</tr>
					<tr>
						<td class="weekend color">
							<div class="weekend"></div>
						</td>
						<td>Final de semana</td>
					</tr>
					<tr>
						<td class="holiday color"></td>
						<td>Feriado</td>
					</tr>
				</table>
			</div>
		</div>

		<div id="aditional-information">
			<h2>Informações adicionais</h2>

			<div class="line">
				<div class="unit label">Horário médio de entrada: </div> 
				<div class="unit information small" id="entrance-avg"></div>
			</div>

			<div class="line">
				<div class="unit label">Horário médio de saída: </div> 
				<div class="unit information small" id="exit-avg"></div>
			</div>

			<div class="line" id="positive-days">
				<div class="unit label">Qtde. de dias que você pode tirar: </div> 
				<div class="unit information small" id="days-off"></div>
			</div>

			<div class="line hide" id="negative-days">
				<div class="unit label">Qtde. de dias que você está devendo: </div> 
				<div class="unit information small negative-hours" id="days-to-pay"></div>
			</div>

			<div class="line last-line">
				<div class="unit label">Qtde. de dias que você se ausentou: </div> 
				<div class="unit information small" id="ausent-days"></div>
			</div>
		</div>
	</div>

	<div class="leftCol main-info">
		<table id="main-table">
			<tr id="printable-header" class="fixed-row">
				<th colspan="2">Dia</th>
				<th>Entrada</th>
				<th>Ida almoço</th>
				<th>Volta almoço</th>
				<th>Saída</th>
				<th>Remoto</th>
				<th>Total</th>
				<th>Almoço</th>
				<th>Extra</th>
				<th>Obs</th>
				<th class="is-ausent" colspan="2">Ausente</th>
			</tr>
			<tr id="row-template" class="fixed-row">
				<td class="day_date">{data}</td>
				<td class="day_week">{diaSemana}</td>
				<td class="begin-day"><input type="text" value="{entrada}" class="start" /></td>
				<td class="start-lunch"><input type="text" value="{ida_almoco}" class="lunch-start" /></td>
				<td class="end-lunch"><input type="text" value="{volta_almoco}" class="lunch-end" /></td>
				<td class="end-day"><input type="text" value="{saida}" class="end" placeholder="{expectedExit}" /></td>
				<td class="vpn-cell"><input type="text" value="{vpn}" class="vpn" /></td>
				<td class="total all-worked">{total}</td>
				<td class="almoco lunch">{almoco}</td>
				<td class="excedente extra">{excedente}</td>
				<td class="obs_cell note">
					<div class="obs">{obs}</div>
					<a href="#view-full-obs" class="view-full-obs {cssObsPreenchida}" title="{obs}"></a>
				</td>
				<td>
					<input type="checkbox" value="S" class="ausent" {checked} /><!--
					<br/>
					<a href="#" id="#{data}" class="refreshDay"><img src="res/img/progress.png"/></a> -->
				</td>
			    <td style="border-right: 1px solid #ccc; padding: 5px; cursor: pointer;">
					<a id="{data}" ><!-- class="refreshDay" -->
						<img src="res/img/progress.png" id="ref{data}" onClick="updateDay('{data}');"/>
					</a>
				</td>
			</tr>
		</table>
		<div id="box-obs">
			<a href="#close" class="close-obs">x</a>
			<textarea class="obs">{obs}</textarea>
		</div>

	</div>

	<input type="file" id="inputfile-import-data" name="arquivos" />

	<div id="configuration" class="lightbox">
		<a href="#close" class="close close-button">x</a>
		
		<h2>Configurações</h2>
		
		<div class="line">
			<label class="unit size1of3">Carga de trabalho diária: </label> 
			<input type="number" step="0.01" min="0" id="total-work" class="size2of3 lastUnit" />
		</div>
		<div class="line"> 
			<label class="unit size1of3">Tempo de almoço padrão: </label> 
			<input type="number" min="0" step="0.25" id="lunch-time" class="size2of3 lastUnit" />
		</div>
		<div class="line"> 
			<label class="unit size1of3">Saldo de horas inicial: </label> 
			<input type="number" min="0" step="0.1" id="initial-balance" class="size2of3 lastUnit" />
		</div>

		<div class="line utilDays"> 
			<label class="unit size1of3">Dias com expediente: </label>
			<ul>
				<li>&nbsp;</li>
				<li><label><input type="checkbox" class="utilDay" value="0" /> Domingo</label></li>
				<li><label><input type="checkbox" class="utilDay" value="1" /> Segunda-feira </label></li>
				<li><label><input type="checkbox" class="utilDay" value="2" /> Terça-feira </label></li>
				<li><label><input type="checkbox" class="utilDay" value="3" /> Quarta-feira </label></li>
				<li><label><input type="checkbox" class="utilDay" value="4" /> Quinta-feira </label></li>
				<li><label><input type="checkbox" class="utilDay" value="5" /> Sexta-feira </label></li>
				<li><label><input type="checkbox" class="utilDay" value="6" /> Sábado </label></li>
			</ul>
		</div>
		
		<h2>Integração Ahgora</h2>

		<div class="line"> 
			<label class="unit size1of3">Matrícula: </label> 
			<input type="number" min="0" step="0.1" id="matricula" class="size2of3 lastUnit" />
		</div>
		<div class="line"> 
			<label class="unit size1of3">Senha: </label> 
			<input type="password" min="0" step="0.1" id="senha" class="size2of3 lastUnit" />
		</div>
		<div class="line"> 
			<label class="unit size1of3">Empresa: </label> 
			<input type="text" min="0" step="0.1" id="empresa" class="size2of3 lastUnit" />
		</div>


		<div class="center">
			<input type="button" class="close" value="Fechar" />
		</div>
	</div>
	
	<div id="holidays" class="lightbox">
		<h2>Editar feriados</h2>
		<a href="#close" class="close close-button">x</a>
		
		<div id="holidays-list-container">
			<table id="holidays-list">
				<tr>
					<th>Data</th>
					<th>Descrição</th>
				</tr>
				<tr id="holiday_template">
					<td><input type="text" class="holiday_date" /></td>
					<td><input type="text" class="holiday_description" /></td>
				</tr>
			</table>
		</div>
		
		<div class="center">
			<input type="button" class="close center" value="Fechar" />
		</div>
	</div>
	
	<div id="export" class="lightbox">
		<h2>Exportar dados</h2>
		<a href="#close" class="close close-button">x</a>
		
		Salve o conteúdo abaixo em um arquivo, que pode ser reimportado novamente.
		
		<textarea id="output-export"></textarea>

	</div>
	
	<div id="confirm-import" class="lightbox">
		<h2>Importar dados</h2>
		<a href="#close" class="close close-button">x</a>
		
		Deseja sobreescrever suas informações pelas informações do arquivo a ser importado?
		
		<div class="center">
			<input type="button" id="proced-import" class="close center" value="Confirmar" />
			<input type="button" class="close center" value="Cancelar" />
		</div>
	</div> 
	
	<div id="perform-update" class="lightbox">
		<h2>Importação de dados</h2>
		<!-- <a href="#close" class="close close-button">x</a> -->
		<div style="display: table;">
			<div style="display: table-cell; float: left;">
				<img src="res/img/loading.gif"/>
			</div>
			<div style="display: table-cell; float: left; padding-top: 8px;">
				Importando dados do sistema Ahgora...
			</div>
		</div>
	</div> 
	
	<div id="error-update" class="lightbox">
		<h2>Importação de dados</h2>
		<a href="#close" class="close close-button">x</a>
		<p>
			<img src="res/img/alerta.gif"/> Não foi possível realizar a importação dos dados.<br/>
			Verifique as possíveis causas abaixo, e tente novamente:
			<ul>
				<li>Conexão com a internet indisponível;</li>
				<li>Bloqueio para acesso ao servidor em https://khi.by;</li>
				<li>Dados de acesso não foram informados nas Configurações;</li>
			</ul>
		</p>
	</div> 
	
	<div id="msg-lightbox" class="lightbox">
		<h2>Importação de dados</h2>
		<a href="#close" class="close close-button">x</a>
		<p><img src="res/img/alerta.gif"/> <span id="msg-lightbox-content">...</span></p>
	</div> 
	
	<div id="sucess-update" class="lightbox">
		<h2>Importação de dados</h2>
		<!-- <a href="#close" class="close close-button">x</a> -->
		<div style="display: table;">
			<div style="display: table-cell; float: left;">
				<img src="res/img/loading.gif"/>
			</div>
			<div style="display: table-cell; float: left; padding-top: 8px;">
				Importando dados do sistema Ahgora...
			</div>
		</div>
	</div> 

	<ul id="input-context-menu" class="context-menu">
		<li id="insert-current-time">Inserir hora atual</li>
		<li>Cancelar</li>
	</ul>
</div>
<audio id=alarm-sound>
	<source src="res/sound/alarm.wav" type="audio/wav" />
</audio> 

</body>

</html>